# rest_service
## Таск2
### Что нового:
1) Рефакторинг класса Girl - теперь нельзя просто так записать рандомный ID с потолка своими кривыми руками, это делают умные фреймворки
2) Теперь ID это Integer, а не строка, потому что ID-строка это странно и почему зачем
3) В проект добавлены Hibernate и PostgreSQL, и теперь они заправляют всем что связано с сохранением данных
4) Из-за странных неполадок версия Gradle изменена с 6.0.1 на 5.6.4, и теперь всё работает
5) Доступен всё тот же набор функций,что и в прошлой версии, просто теперь всё в БД



### Гайд от Светика:
#### Чтобы данный конструкт заработал, необходимо несколько шагов:
1) Поднять свою базу данных
2) Подцепить к ней приложение
3) Научиться писать в консоль строчки начинающиеся с curl


##### 1. В данном проекте используется база данных PostgreSQL:
- Разобраться с ней поможет данный гайд: https://metanit.com/sql/postgresql/1.1.php
- Пошаговая видео инструкция по усановке на случай если всё очень страшно и ничего не понятно: https://youtu.be/yYJ74Sc7nw8

##### 2. Подцепить приложение к базе без регистрации и СМС можно за два шага:
- Воспользоваться встроенным плагином Intellij IDEA для работы с базами, нажав на [+] и выбрав PostgreSQL в разделе Data Sources.
Когда вы заполните обязательные поля, URL будет сгенерирован автоматически, тут же можно проверить и возможность коннекта:

![Image](https://sun9-33.userapi.com/c205716/v205716831/b9395/QxKRO_obXl8.jpg)

- Проверив корректность введённых данных, переписать их в файл ***application.properties***:

![Image](https://sun9-2.userapi.com/c205716/v205716831/b93be/V91Jn3iHONc.jpg)

##### 3. Теперь можно запустить и проверить, как оно там всё: для этого есть комманды

- curl localhost:8080/girls - вытащить все записи, GET

- curl localhost:8080/girls/2 - вытащить девочку 2, GETID

- curl -X POST localhost:8080/girls/Zuleiha - добавить девочку Зулейху, POST

- curl -X PUT localhost:8080/girls/2 -d name="Alina" - назвать девочку 2 Alina, PUT

- curl -X DELETE localhost:8080/girls/4 - удалить девочку 4, DELETE


Вводить, естественно, в коммандную строку или терминал. Думаю, дальше уже понятно.